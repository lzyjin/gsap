<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Scroll Effect 1</title>
  <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="parallax__title">
    <h1>GSAP Parallax Effect01</h1>
    <p>GSAP scrollTrigger - 애니메이션 기본 효과</p>
  </header>
  <!-- //parallax__title  -->

  <main id="parallax__cont">
    <section id="section1" class="parallax__item">
      <span class="parallax__item__num">01</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section1 -->

    <section id="section2" class="parallax__item">
      <span class="parallax__item__num">02</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section2 -->

    <section id="section3" class="parallax__item">
      <span class="parallax__item__num">03</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section3 -->

    <section id="section4" class="parallax__item">
      <span class="parallax__item__num">04</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section4 -->

    <section id="section5" class="parallax__item">
      <span class="parallax__item__num">05</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section5 -->

    <section id="section6" class="parallax__item">
      <span class="parallax__item__num">06</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section6 -->

    <section id="section7" class="parallax__item">
      <span class="parallax__item__num">07</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section7 -->

    <section id="section8" class="parallax__item">
      <span class="parallax__item__num">08</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section8 -->

    <section id="section9" class="parallax__item">
      <span class="parallax__item__num">09</span>
      <div class="parallax__item__img"></div>
    </section>
    <!-- //section9 -->
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
  <script>
    const box1 = document.querySelector('#section1 .parallax__item__img');
    const box2 = document.querySelector('#section2 .parallax__item__img');
    const box3 = document.querySelector('#section3 .parallax__item__img');
    const box4 = document.querySelector('#section4 .parallax__item__img');
    const box5 = document.querySelector('#section5 .parallax__item__img');
    const box6 = document.querySelector('#section6 .parallax__item__img');
    const box7 = document.querySelector('#section7 .parallax__item__img');
    const box8 = document.querySelector('#section8 .parallax__item__img');
    const box9 = document.querySelector('#section9 .parallax__item__img');


    // 1. 기본(scrollTrigger 없이 기본 애니메이션)
    gsap.to(box1, {
      duration: 2,
      x: 500,
      borderRadius: 100,
      rotation: 360,
    });


    // 2. scrollTrigger 이용한 애니메이션
    gsap.to(box2, {
      duration: 2,
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box2,
      },
    });


    // 3. toggleActions
    gsap.to(box3, {
      duration: 2,
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box3,
        // 이벤트: onEnter, onLeave, onEnterBack, onLeaveBack
        // 값: play, pause, resume, reset, restart, complete, reverse, none
        toggleActions: 'play none reverse none',
      },
    });


    // 4. start, end
    gsap.to(box4, {
      duration: 5,
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box4,
        start: 'top 50%',
        end: 'bottom 20%',
        toggleActions: 'play none reverse none',
        // markers: true,
      },
    });


    // 5. scrub
    gsap.to(box5, {
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box5,
        start: 'top 50%',
        end: 'bottom 20%',
        // true, 숫자(ex) 0.5)
        scrub: true,
        // markers: true,
      },
    });


    // 6. pin
    gsap.to(box6, {
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box6,
        start: 'top 50%',
        end: 'bottom 30%',
        pin: true,
        scrub: true,
        // markers: true,
      },
    });


    // 7. toggleClass
    gsap.to(box7, {
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box7,
        start: 'top center',
        end: 'bottom 20%',
        scrub: true,
        toggleClass: 'active',
        // markers: true,
        id: 'box7', // 아이디를 설정하면 marker에 표시가 생긴다.
      },
    });


    // 8. callback 함수
    gsap.to(box8, {
      x: 500,
      borderRadius: 100,
      rotation: 360,

      scrollTrigger: {
        trigger: box8,
        start: 'top center',
        end: 'bottom 20%',
        scrub: true,
        markers: true,
        id: 'box8',
        // onEnter: () => console.log('onEnter'),
        // onLeave: () => console.log('onLeave'),
        // onEnterBack: () => console.log('onEnterBack'),
        // onLeaveBack: () => console.log('onLeaveBack'),
        // onRefresh: ({progress, direction, isActive}) => console.log(progress, direction, isActive),
        // onUpdate: self => console.log("progress", self.progress),
        // onScrubComplete: ({progress, direction, isActive}) => console.log(progress, direction, isActive),
        // onSnapComplete: ({progress, direction, isActive}) => console.log(progress, direction, isActive)
        onToggle: self => console.log("toggled to active:", self.isActive),
      },
    });
  </script>
</body>
</html>